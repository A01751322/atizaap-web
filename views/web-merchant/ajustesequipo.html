<!DOCTYPE html>
<html lang="es">
    <head>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <link rel="stylesheet" href="/static/css/navbar.css">
        <link href="https://cdn.jsdelivr.net/npm/flowbite@3.1.2/dist/flowbite.min.css" rel="stylesheet"/>
    </head>
    <body class="pt-14">
    <!--Placeholder de navbar -->
        <div id="navbar-placeholder"></div> 
    <!-- Script Placeholder de navbar y tokenización -->
        <script>
            document.addEventListener('DOMContentLoaded', async () => {
                const mount = document.getElementById('navbar-placeholder');
                try {
                // cache-buster para evitar versiones viejas en escritorio
                const res = await fetch('../partials/navbar.html?v=' + Date.now());
                if (!res.ok) throw new Error('HTTP ' + res.status);
                const html = await res.text();
                mount.innerHTML = html;

                // Mover el contenido de la página dentro del recuadro con líneas
                const content = document.getElementById('page-content');
                let slot = mount.querySelector('#content-slot');

                // Fallback: si el slot no existe, lo creamos dentro del primer recuadro punteado
                if (!slot) {
                    const dashed = mount.querySelector('.border-dashed.rounded-lg');
                    if (dashed) {
                    slot = document.createElement('div');
                    slot.id = 'content-slot';
                    dashed.appendChild(slot);
                    }
                }

                if (slot && content) {
                    slot.appendChild(content);
                } else {
                    console.warn('No se encontró content-slot ni contenido para mover');
                }

                // Cargar tabs y activar la pestaña correspondiente (forzar por data-active-tab)
                const tabsMount = document.getElementById('tabs-placeholder');
                if (tabsMount) {
                    const tRes = await fetch('../partials/tabsajustes.html?v=' + Date.now());
                    if (!tRes.ok) throw new Error('HTTP ' + tRes.status);
                    tabsMount.innerHTML = await tRes.text();

                    const basic = tabsMount.querySelector('[data-tab="basic"]');
                    const team  = tabsMount.querySelector('[data-tab="team"]');

                    const reset = () => {
                        [basic, team].forEach(a => {
                        if (!a) return;
                        a.classList.remove('text-blue-600','border-blue-600','active','dark:text-blue-500','dark:border-blue-500','border-b-2');
                        a.classList.add('border-transparent');
                        a.removeAttribute('aria-current');
                        });
                    };
                    const setActive = (el) => {
                        if (!el) return;
                        el.classList.add('text-blue-600','border-b-2','border-blue-600','active','dark:text-blue-500','dark:border-blue-500');
                        el.classList.remove('border-transparent');
                        el.setAttribute('aria-current','page');
                    };
                    const setInactive = (el) => {
                        if (!el) return;
                        el.classList.remove('text-blue-600','border-blue-600','active','dark:text-blue-500','dark:border-blue-500','border-b-2');
                        el.classList.add('border-transparent');
                        el.removeAttribute('aria-current');
                    };

                    const desired = document.getElementById('page-content')?.dataset.activeTab || 'basic';
                    const reapply = () => {
                        reset();
                        if (desired === 'team') {
                        setActive(team);
                        setInactive(basic);
                        } else {
                        setActive(basic);
                        setInactive(team);
                        }
                    };

                    reapply();
                    requestAnimationFrame(reapply);
                }


                // Re‑inicializa Flowbite para los elementos añadidos dinámicamente
                if (window.initFlowbite) window.initFlowbite();
                } catch (err) {
                console.error('Error al cargar la barra de navegación:', err);
                mount.innerHTML = '<div class="fixed w-16 h-screen bg-gray-800 text-white p-4">Error al cargar</div>';
                }
            });
        </script>
        <main id="page-content" data-active-tab="team">
            <h1 class="text-3xl font-bold">Ajustes</h1>
            <div id="tabs-placeholder" class="mb-4"></div>
        <!-- Tabla ajsutes equipo-->
            <div class="relative overflow-x-auto shadow-sm sm:rounded-lg border border-gray-200">
                <table class="w-full text-sm text-left text-gray-600">
            <!-- Header de tabla -->
                    <thead class="text-xs uppercase bg-gray-50 text-gray-700">
                        <tr>
                            <th scope="col" class="px-4 py-3 w-12">#</th>
                            <th scope="col" class="px-6 py-3">Nombre</th>
                            <th scope="col" class="px-6 py-3">Fecha en la que se une</th>
                            <th scope="col" class="px-6 py-3 text-right">Acciones</th>
                        </tr>
                    </thead>
                    <tbody>
                        <!-- Row 1 -->
                        <tr class="bg-white border-t border-gray-200 hover:bg-gray-50">
                            <td class="px-4 py-4">01</td>
                            <td class="px-6 py-4">
                                <div class="flex items-center gap-3">
                                    <div class="w-9 h-9 rounded-full bg-gray-200"></div>
                                    <div>
                                        <div class="font-medium text-gray-900">Natukunda Cathy</div>
                                        <div class="text-xs text-gray-500">cathy@gmail.com</div>
                                    </div>
                                </div>
                            </td>
                            <td class="px-6 py-4">May 24, 2025</td>
                            <td class="px-6 py-4 text-right">
                                <button type="button" class="inline-flex items-center p-2 rounded hover:bg-gray-100" title="Editar">
                                    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" class="h-5 w-5 text-emerald-600"><path d="M21.731 2.269a2.625 2.625 0 0 0-3.712 0L3.9 16.388a5.25 5.25 0 0 0-1.32 2.214l-.8 2.401a.75.75 0 0 0 .948.948l2.401-.8a5.25 5.25 0 0 0 2.214-1.32L21.731 5.981a2.625 2.625 0 0 0 0-3.712Zm-5.004 3.256 1.748 1.748-9.9 9.9a3.75 3.75 0 0 1-1.582.95l-1.86.62.62-1.86a3.75 3.75 0 0 1 .95-1.582l9.9-9.9Z"/></svg>
                                </button>
                                <button type="button" class="inline-flex items-center p-2 rounded hover:bg-gray-100 ms-1" title="Borrar">
                                    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" class="h-5 w-5 text-red-600"><path d="M9 3.75A1.5 1.5 0 0 1 10.5 2.25h3A1.5 1.5 0 0 1 15 3.75V5H19.5a.75.75 0 0 1 0 1.5h-15A.75.75 0 0 1 4.5 5H9V3.75Z"/><path d="M6.75 7.25h10.5l-.64 11.063A2.25 2.25 0 0 1 14.37 20.5H9.63a2.25 2.25 0 0 1-2.241-2.187L6.75 7.25Z"/></svg>
                                </button>
                            </td>
                        </tr>
                        <!-- Row 2 -->
                        <tr class="bg-white border-t border-gray-200 hover:bg-gray-50">
                            <td class="px-4 py-4">02</td>
                            <td class="px-6 py-4">
                                <div class="flex items-center gap-3">
                                    <div class="w-9 h-9 rounded-full bg-gray-200"></div>
                                    <div>
                                        <div class="font-medium text-gray-900">Colin Lubembe</div>
                                        <div class="text-xs text-gray-500">colin@gmail.com</div>
                                    </div>
                                </div>
                            </td>
                            <td class="px-6 py-4">Apr 24, 2025</td>
                            <td class="px-6 py-4 text-right">
                                <button type="button" class="inline-flex items-center p-2 rounded hover:bg-gray-100" title="Editar">
                                    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" class="h-5 w-5 text-emerald-600"><path d="M21.731 2.269a2.625 2.625 0 0 0-3.712 0L3.9 16.388a5.25 5.25 0 0 0-1.32 2.214l-.8 2.401a.75.75 0 0 0 .948.948l2.401-.8a5.25 5.25 0 0 0 2.214-1.32L21.731 5.981a2.625 2.625 0 0 0 0-3.712Zm-5.004 3.256 1.748 1.748-9.9 9.9a3.75 3.75 0 0 1-1.582.95l-1.86.62.62-1.86a3.75 3.75 0 0 1 .95-1.582l9.9-9.9Z"/></svg>
                                </button>
                                <button type="button" class="inline-flex items-center p-2 rounded hover:bg-gray-100 ms-1" title="Borrar">
                                    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" class="h-5 w-5 text-red-600"><path d="M9 3.75A1.5 1.5 0 0 1 10.5 2.25h3A1.5 1.5 0 0 1 15 3.75V5H19.5a.75.75 0 0 1 0 1.5h-15A.75.75 0 0 1 4.5 5H9V3.75Z"/><path d="M6.75 7.25h10.5l-.64 11.063A2.25 2.25 0 0 1 14.37 20.5H9.63a2.25 2.25 0 0 1-2.241-2.187L6.75 7.25Z"/></svg>
                                </button>
                            </td>
                        </tr>
                        <!-- Row 3 -->
                        <tr class="bg-white border-t border-gray-200 hover:bg-gray-50">
                        <td class="px-4 py-4">03</td>
                        <td class="px-6 py-4">
                            <div class="flex items-center gap-3">
                            <div class="w-9 h-9 rounded-full bg-gray-200"></div>
                            <div>
                                <div class="font-medium text-gray-900">Nanyonga Rahmah</div>
                                <div class="text-xs text-gray-500">nanyonga@gmail.com</div>
                            </div>
                            </div>
                        </td>
                        <td class="px-6 py-4">May 14, 2025</td>
                        <td class="px-6 py-4 text-right">
                            <button type="button" class="inline-flex items-center p-2 rounded hover:bg-gray-100" title="Editar">
                            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" class="h-5 w-5 text-emerald-600"><path d="M21.731 2.269a2.625 2.625 0 0 0-3.712 0L3.9 16.388a5.25 5.25 0 0 0-1.32 2.214l-.8 2.401a.75.75 0 0 0 .948.948l2.401-.8a5.25 5.25 0 0 0 2.214-1.32L21.731 5.981a2.625 2.625 0 0 0 0-3.712Zm-5.004 3.256 1.748 1.748-9.9 9.9a3.75 3.75 0 0 1-1.582.95l-1.86.62.62-1.86a3.75 3.75 0 0 1 .95-1.582l9.9-9.9Z"/></svg>
                            </button>
                            <button type="button" class="inline-flex items-center p-2 rounded hover:bg-gray-100 ms-1" title="Borrar">
                            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" class="h-5 w-5 text-red-600"><path d="M9 3.75A1.5 1.5 0 0 1 10.5 2.25h3A1.5 1.5 0 0 1 15 3.75V5H19.5a.75.75 0 0 1 0 1.5h-15A.75.75 0 0 1 4.5 5H9V3.75Z"/><path d="M6.75 7.25h10.5l-.64 11.063A2.25 2.25 0 0 1 14.37 20.5H9.63a2.25 2.25 0 0 1-2.241-2.187L6.75 7.25Z"/></svg>
                            </button>
                        </td>
                        </tr>
                        <!-- Row 4 -->
                        <tr class="bg-white border-t border-gray-200 hover:bg-gray-50">
                            <td class="px-4 py-4">04</td>
                            <td class="px-6 py-4">
                                <div class="flex items-center gap-3">
                                <div class="w-9 h-9 rounded-full bg-gray-200"></div>
                                <div>
                                    <div class="font-medium text-gray-900">Natukunda Cathy</div>
                                    <div class="text-xs text-gray-500">catheriney@gmail.com</div>
                                </div>
                                </div>
                            </td>
                            <td class="px-6 py-4">May 16, 2025</td>
                            <td class="px-6 py-4 text-right">
                                <button type="button" class="inline-flex items-center p-2 rounded hover:bg-gray-100" title="Editar">
                                <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" class="h-5 w-5 text-emerald-600"><path d="M21.731 2.269a2.625 2.625 0 0 0-3.712 0L3.9 16.388a5.25 5.25 0 0 0-1.32 2.214l-.8 2.401a.75.75 0 0 0 .948.948l2.401-.8a5.25 5.25 0 0 0 2.214-1.32L21.731 5.981a2.625 2.625 0 0 0 0-3.712Zm-5.004 3.256 1.748 1.748-9.9 9.9a3.75 3.75 0 0 1-1.582.95l-1.86.62.62-1.86a3.75 3.75 0 0 1 .95-1.582l9.9-9.9Z"/></svg>
                                </button>
                                <button type="button" class="inline-flex items-center p-2 rounded hover:bg-gray-100 ms-1" title="Borrar">
                                <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" class="h-5 w-5 text-red-600"><path d="M9 3.75A1.5 1.5 0 0 1 10.5 2.25h3A1.5 1.5 0 0 1 15 3.75V5H19.5a.75.75 0 0 1 0 1.5h-15A.75.75 0 0 1 4.5 5H9V3.75Z"/><path d="M6.75 7.25h10.5l-.64 11.063A2.25 2.25 0 0 1 14.37 20.5H9.63a2.25 2.25 0 0 1-2.241-2.187L6.75 7.25Z"/></svg>
                                </button>
                            </td>
                        </tr>
                    </tbody>
                </table>
                <!-- Footer de tabla -->
                <div class="flex items-center justify-between px-4 py-3 text-xs text-gray-500">
                    <span>Viendo 4 resultados de 100</span>
                    <div class="hidden sm:flex items-center gap-2">
                        <a href="#" class="p-1 rounded hover:bg-gray-100" aria-label="Página anterior">‹</a>
                        <a href="#" class="p-1 rounded hover:bg-gray-100">1</a>
                        <a href="#" class="p-1 rounded hover:bg-gray-100">2</a>
                        <a href="#" class="p-1 rounded hover:bg-gray-100">3</a>
                        <a href="#" class="p-1 rounded hover:bg-gray-100" aria-label="Página siguiente">›</a>
                    </div>
                </div>
            </div>
        </main>
    </body>
    <script defer src="https://cdn.jsdelivr.net/npm/flowbite@3.1.2/dist/flowbite.min.js"></script>
</html>